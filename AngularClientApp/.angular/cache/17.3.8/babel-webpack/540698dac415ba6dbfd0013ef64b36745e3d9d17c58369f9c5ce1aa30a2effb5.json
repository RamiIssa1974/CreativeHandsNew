{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { AuthService } from '../../../services/auth.service';\nimport { OrdersService } from '../../../services/orders.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/orders.service\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nexport let OrderDetailsComponent = /*#__PURE__*/(() => {\n  class OrderDetailsComponent {\n    get isLoggedIn() {\n      return this.authService.isLoggedIn;\n    }\n    get isAdmin() {\n      return this.authService.isAdmin;\n    }\n    get OrderTotal() {\n      if (!this.order || !this.order.OrderItems) {\n        return 0; // or any default value that makes sense\n      }\n      return this.order.OrderItems.map(oi => oi.Quantity * oi.UnitPrice).reduce((a, b) => a + b, 0);\n    }\n    constructor(orersService, authService, route) {\n      this.orersService = orersService;\n      this.authService = authService;\n      this.route = route;\n      this.orderId = 0;\n      this.order = null;\n    }\n    ngOnInit() {\n      this.route.url.subscribe(url => {\n        let path = url[0].path;\n        if (path === \"cart\") {\n          this.orersService.getCart().subscribe(res => {\n            this.orderId = res.Id;\n            this.order = res;\n          });\n        } else {\n          this.route.params.subscribe(params => {\n            this.orderId = params['id'];\n            this.orersService.getOrderById(this.orderId).subscribe(res => this.order = res);\n          });\n        }\n      });\n    }\n    static #_ = this.ɵfac = function OrderDetailsComponent_Factory(t) {\n      return new (t || OrderDetailsComponent)(i0.ɵɵdirectiveInject(i1.OrdersService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrderDetailsComponent,\n      selectors: [[\"app-order-details\"]],\n      decls: 4,\n      vars: 3,\n      template: function OrderDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"order-details works!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(2);\n          i0.ɵɵpipe(3, \"json\");\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\\n\", i0.ɵɵpipeBind1(3, 1, ctx.order), \"\\n\");\n        }\n      },\n      dependencies: [i4.JsonPipe]\n    });\n  }\n  return OrderDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}